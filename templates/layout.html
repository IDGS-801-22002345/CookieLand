<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Maicookies</title>
    <link rel="icon" href="{{ url_for('static', filename='img/logo.png') }}" />

    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <nav
      class="fixed top-0 left-0 right-0 bg-white shadow-md z-30 md:left-64 transition-all duration-300"
    >
      <div class="flex flex-col p-4">
        <div class="flex justify-end space-x-4">
          <div class="flex items-center space-x-2 cursor-pointer">
            <i class="fa fa-user" aria-hidden="true"></i>
            <span class="text-gray-700 hidden md:inline">Usuario</span>
          </div>
        </div>
      </div>
    </nav>

    <!-- Barra lateral -->
    <div
      id="sidebar"
      class="bg-white h-screen w-64 fixed -left-64 md:left-0 top-0 border-r z-20 transition-all duration-300"
    >
      <!-- Contenedor del logo -->
      <div class="flex justify-center items-center p-4">
        <img
          src="{{ url_for('static', filename='img/logo.png') }}"
          alt="Logo de la empresa"
          class="w-28 h-auto"
        />
      </div>

      <!-- Items del menú -->
      <div class="p-2 space-y-2 overflow-y-auto">
        <!-- Inicio -->
        <button
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-home text-lg"></i>
          <span class="font-medium">Inicio</span>
        </button>

        <!-- Dashboard -->
        <button
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-tachometer-alt"></i>
          <span class="font-medium">Dashboard</span>
        </button>

        <!-- Usuarios -->
        <a
          href="{{ url_for('personal_bp.usuarios') }}"
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-users"></i>
          <span class="font-medium">Usuarios</span>
        </a>

        <!-- Proveedores -->
        <a
          href="{{ url_for('provedor_bp.index') }}"
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-truck"></i>
          <span class="font-medium">Proveedores</span>
        </a>

        <!-- Ventas -->
        <a
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-shopping-cart"></i>
          <span class="font-medium">Ventas</span>
        </a>

        <!-- Compras -->
        <a
          href="{{ url_for('registro_compras_bp.compras') }}"
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-shopping-bag"></i>
          <span class="font-medium">Compras</span>
        </button>

        <!-- Recetas -->
        <a
          href="{{ url_for('galletas_bp.index') }}"
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-utensils"></i>
          <span class="font-medium">Recetas</span>
        </a>

        <!-- Produccion -->
        <a
          href="{{ url_for('produccion_bp.index') }}"
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fa-solid fa-cookie-bite"></i>
          <span class="font-medium">Produccion</span>
        </a>

        <!-- Inventario Insumos -->
        <a
          href="{{ url_for('inventario_bp.index') }}"
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-boxes"></i>
          <span class="font-medium">Inventario Insumos</span>
      </a>
      <a
          href="{{ url_for('detalle_compras_bp.index') }}"
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-boxes"></i>
          <span class="font-medium">Detalles Compras</span>
    </a>
      </div>

      <!-- Cerrar sesión (parte inferior) -->
      <div class="absolute bottom-0 w-full p-4 border-t">
        <a
          href="{{ url_for('auth_bp.logout') }}"
          class="w-full px-3 py-3 flex items-center space-x-4 justify-start text-gray-500 hover:bg-blue-200 hover:text-blue-600 rounded-lg group transition-colors"
        >
          <i class="fas fa-sign-out-alt"></i>
          <span class="font-medium">Cerrar sesión</span>
        </a>
      </div>
    </div>

    <!-- Contenido principal -->
    <main class="pt-20 md:ml-64 min-h-screen">
      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %}
      <div class="absolute top-5 right-5 z-50 space-y-4">
        {% for category, message in messages %}
        <!-- Usando clases de Flowbite para notificaciones -->
        <div
          class="flex items-center p-4 mb-4 text-sm font-medium text-white rounded-lg {% if category == 'success' %} bg-green-500 {% elif category == 'error' %} bg-red-500 {% elif category == 'info' %} bg-blue-500 {% elif category == 'warning' %} bg-yellow-500 {% endif %} animate__animated animate__slideInRight animate__fadeOut animate__duration-1000ms notification"
        >
          <!-- Icono dependiendo del tipo de mensaje -->
          {% if category == 'success' %}
          <svg
            class="w-5 h-5 mr-3"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            stroke-width="2"
          >
            <path d="M9 12l2 2l4-4"></path>
          </svg>
          {% elif category == 'error' %}
          <svg
            class="w-5 h-5 mr-3"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            stroke-width="2"
          >
            <path d="M6 18L18 6M6 6l12 12"></path>
          </svg>
          {% elif category == 'info' %}
          <svg
            class="w-5 h-5 mr-3"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            stroke-width="2"
          >
            <path d="M12 4v16m8-8H4"></path>
          </svg>
          {% elif category == 'warning' %}
          <svg
            class="w-5 h-5 mr-3"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            stroke-width="2"
          >
            <path d="M12 2L2 22h20L12 2z"></path>
          </svg>
          {% endif %}
          <!-- Mensaje -->
          <p>{{ message }}</p>
        </div>
        {% endfor %}
      </div>
      {% endif %} {% endwith %} {% block content %} {% endblock %}
    </main>
    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/inventario.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    <script>
      // Eliminar las notificaciones después de 5 segundos (5000ms)
      setTimeout(function () {
        const notifications = document.querySelectorAll(".notification");
        notifications.forEach((notification) => {
          notification.remove();
        });
      }, 5000);
    </script>
  </body>
</html>
